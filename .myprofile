#!/usr/bin/env bash

# integrate with [jump](https://github.com/gsamokovarov/jump)
eval "$(jump shell)"

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
if [[ -n $SSH_CONNECTION ]]; then
  export EDITOR='vim'
else
  export EDITOR='mvim'
fi

export VISUAL='vim'


# allow clobber, otherwise sdkman will throw errors
set +o noclobber
## Enable vi mode in zsh
# https://dougblack.io/words/zsh-vi-mode.html
bindkey -v

bindkey -M viins '^r' history-incremental-search-backward
bindkey -M vicmd '^r' history-incremental-search-backward

# bindkey '^P' up-history
# bindkey '^N' down-history
# bindkey '^?' backward-delete-char
# bindkey '^h' backward-delete-char
# bindkey '^w' backward-kill-word
# bindkey '^r' history-incremental-search-backward
#
# function zle-line-init zle-keymap-select {
#     VIM_PROMPT="%{$fg_bold[yellow]%} [% NORMAL]%  %{$reset_color%}"
#     RPS1="${${KEYMAP/vicmd/$VIM_PROMPT}/(main|viins)/}$(git_custom_status) $EPS1"
#     zle reset-prompt
# }
#
# zle -N zle-line-init
# zle -N zle-keymap-select
export KEYTIMEOUT=1
## End of vi mode in zsh

# Add RVM to PATH for scripting
export PATH="$HOME/.rvm/bin:$PATH"
# export PATH=$PATH:/Applications/FirefoxDeveloperEdition.app/Contents/MacOS

#THIS MUST BE AT THE END OF THE FILE FOR SDKMAN TO WORK!!!
export SDKMAN_DIR="$HOME/.sdkman"
[[ -s "$HOME/.sdkman/bin/sdkman-init.sh" ]] && source "$HOME/.sdkman/bin/sdkman-init.sh"

# source ~/.rvm/scripts/rvm
# eval "$(rbenv init -)"

fpath=($HOME/.zsh/gradle-completion $fpath)

export PATH=$HOME/mybin:/usr/local/bin:/usr/local/sbin:/opt/local/bin:/opt/local/sbin:/bin:/sbin:/usr/bin:/usr/sbin:$PATH

source ~/.aliases
source ~/.zsh/zsh-interactive-cd/zsh-interactive-cd.plugin.zsh
source ~/.zsh/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh


BASE16_SHELL=$HOME/.config/base16-shell/
[ -n "$PS1" ] && [ -s $BASE16_SHELL/profile_helper.sh ] && eval "$($BASE16_SHELL/profile_helper.sh)"

# enables fzf for cli (history search, etc.)
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
